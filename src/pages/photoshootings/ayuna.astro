---
import BaseLayout from '../../layouts/BaseLayout.astro'

const heroImage = '/photoshootings/ayuna/39-Ayuna-Atrani-2023.webp'
const shareImageAlt = 'Ayuna photoshoot in Atrani on the Amalfi Coast'
const shootTitle = "Ayuna's Photographic Memoir"
const shootDate = 'August · 01 · 2023'

const articleDescriptionOne =
  "Morning Elegance in Atrani tells Ayuna's story — a young model with a calm strength and a bright, curious gaze. She came to build her portfolio, carrying the fresh energy of a new day. As we walked Atrani's quiet lanes, her confidence opened naturally, and each frame revealed a softer, more luminous side of her personality."
const articleDescriptionTwo =
  "A Breathtaking Photoshoot focuses on the craft: sunrise light, textured stone, and the sea's gentle haze. We mixed casual and elegant looks, explored different lenses, and used angles that held both Ayuna and Atrani in balance. The result is a cinematic sequence of images that feels effortless, yet carefully composed."

const galleryOneImages = [
  {
    src: '/photoshootings/ayuna/2-Ayuna-Atrani-2023.webp',
    alt: 'Ayuna in Atrani, morning light by the sea',
  },
  {
    src: '/photoshootings/ayuna/11-Ayuna-Atrani-2023.webp',
    alt: 'Soft portrait on stone steps',
  },
  {
    src: '/photoshootings/ayuna/14-Ayuna-Atrani-2023.webp',
    alt: 'Sunrise profile with coastal breeze',
  },
  {
    src: '/photoshootings/ayuna/22-Ayuna-Atrani-2023.webp',
    alt: 'Elegant pose against pastel walls',
  },
  {
    src: '/photoshootings/ayuna/38-Ayuna-Atrani-2023.webp',
    alt: 'Quiet moment in the Atrani streets',
  },
  {
    src: '/photoshootings/ayuna/39-Ayuna-Atrani-2023.webp',
    alt: 'Cinematic frame with golden reflections',
  },
]
---

<BaseLayout
  title="Ayuna Photoshoot — CristallPont Amalfi Day"
  description="Bella Vita in Atrani: Ayuna's photographic memoir on the Amalfi Coast."
  image={heroImage}
  imageAlt={shareImageAlt}
>
  <div class="shoot-template">
    <section class="shoot-hero hero--dark">
      <img
        class="shoot-hero__img"
        src={heroImage}
        alt="Hero frame of the photoshoot"
        loading="eager"
        fetchpriority="high"
      />
      <div class="shoot-hero__veil" aria-hidden="true"></div>
      <div class="container shoot-hero__content">
        <div class="shoot-hero__meta">
          <div class="shoot-hero__date">{shootDate}</div>
          <h1 class="shoot-hero__title">{shootTitle}</h1>
        </div>
      </div>
      <a class="scroll-indicator" href="#shoot-story" aria-label="Scroll to story">
        <span class="scroll-indicator__dot"></span>
        <span class="scroll-indicator__line"></span>
      </a>
    </section>

    <section class="section shoot-story" id="shoot-story">
      <div class="container">
        <div class="shoot-story__intro">
          <div class="shoot-bridge__eyebrow">Morning Notes</div>
          <h2>
            Morning <span class="accent-italic">Elegance</span> in Atrani
          </h2>
          <p>{articleDescriptionOne}</p>
          <div class="shoot-bridge__eyebrow">Shoot Details</div>
          <h2>
            A <span class="accent-italic">Breathtaking</span> Photoshoot
          </h2>
          <p>{articleDescriptionTwo}</p>
        </div>
      </div>
    </section>

    <section class="section section--flush">
      <div class="container">
        <div class="shoot-gallery-label">Gallery 1</div>
        <div class="shoot-pan" data-horizontal-gallery aria-label="Photoshoot gallery">
          <div class="shoot-pan__sticky">
            <div class="shoot-pan__track" data-horizontal-track>
              {galleryOneImages.map((image, index) => (
                <figure class="shoot-pan__card">
                  <img
                    src={image.src}
                    alt={image.alt}
                    loading={index < 2 ? 'eager' : 'lazy'}
                  />
                </figure>
              ))}
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="section shoot-cta-section">
      <div class="container">
        <div class="shoot-cta" style={`--cta-bg: url(${heroImage})`}>
          <div class="shoot-cta__copy">
            <div class="shoot-cta__tag">Ready to create your story?</div>
            <h2>Let’s plan a photoshoot that feels like a film still.</h2>
            <p>
              Tell me your dates, mood, and locations — I’ll take care of the pacing,
              light, and seamless direction on the day.
            </p>
          </div>
          <a class="shoot-cta__button" href="/contact">
            <i class="bi bi-camera2" aria-hidden="true"></i>
            Request a photoshoot
          </a>
        </div>
      </div>
    </section>

  </div>

  <script is:inline>
    ;(() => {
      const hero = document.querySelector('.shoot-hero')
      if (hero) {
        const setHeroHeight = () => {
          hero.style.setProperty('--hero-height', `${window.innerHeight}px`)
        }
        setHeroHeight()
        window.addEventListener('resize', setHeroHeight)

      }

      const gallery = document.querySelector('[data-horizontal-gallery]')
      if (gallery) {
        const track = gallery.querySelector('[data-horizontal-track]')
        if (track) {
          let currentX = 0
          let targetX = 0
          let rafId = null

          const updateLayout = () => {
            const viewportWidth = gallery.clientWidth
            const trackWidth = track.scrollWidth
            const scrollDistance = Math.max(0, trackWidth - viewportWidth)
            const height = scrollDistance + window.innerHeight
            gallery.style.height = `${height}px`
            gallery.dataset.scrollDistance = String(scrollDistance)
            targetX = 0
            currentX = 0
            track.style.transform = 'translate3d(0, 0, 0)'
          }

          const animate = () => {
            const delta = targetX - currentX
            currentX += delta * 0.12
            if (Math.abs(delta) < 0.5) {
              currentX = targetX
            }
            track.style.transform = `translate3d(${currentX}px, 0, 0)`
            if (currentX !== targetX) {
              rafId = requestAnimationFrame(animate)
            } else {
              rafId = null
            }
          }

          let ticking = false
          const onScroll = () => {
            const scrollDistance = Number(gallery.dataset.scrollDistance || 0)
            if (scrollDistance <= 0) {
              targetX = 0
              if (!rafId) {
                rafId = requestAnimationFrame(animate)
              }
              return
            }
            const rect = gallery.getBoundingClientRect()
            const totalScroll = gallery.offsetHeight - window.innerHeight
            const progress =
              totalScroll > 0 ? Math.min(Math.max(-rect.top / totalScroll, 0), 1) : 0
            targetX = -scrollDistance * progress
            if (!rafId) {
              rafId = requestAnimationFrame(animate)
            }
          }

          const requestTick = () => {
            if (ticking) return
            ticking = true
            requestAnimationFrame(() => {
              onScroll()
              ticking = false
            })
          }

          updateLayout()
          requestTick()

          window.addEventListener('scroll', requestTick, { passive: true })
          window.addEventListener('resize', () => {
            updateLayout()
            requestTick()
          })

          if ('ResizeObserver' in window) {
            const observer = new ResizeObserver(() => {
              updateLayout()
              requestTick()
            })
            observer.observe(track)
          }
        }
      }

    })()
  </script>
</BaseLayout>

<style>
  .shoot-template {
    position: relative;
  }

  .shoot-hero {
    position: relative;
    height: var(--hero-height, 100svh);
    min-height: 100svh;
    display: flex;
    align-items: flex-end;
    padding: calc(var(--header-space) + 1.5rem) 0 3.75rem;
    color: #ffffff;
    overflow: hidden;
  }

  .shoot-hero__img {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center 30%;
    filter: saturate(1.05) contrast(1.05);
  }

  .shoot-hero__veil {
    position: absolute;
    inset: 0;
    background: linear-gradient(
      180deg,
      rgba(8, 10, 14, 0.2) 0%,
      rgba(8, 10, 14, 0.5) 45%,
      rgba(8, 10, 14, 0.85) 100%
    );
  }


  .shoot-hero__content {
    position: relative;
    z-index: 2;
    width: 100%;
  }

  .shoot-hero__meta {
    max-width: 40rem;
  }

  .shoot-hero__date {
    font-family: var(--font-mono);
    font-size: clamp(0.75rem, 1.5vw, 1rem);
    letter-spacing: 0;
    text-transform: uppercase;
    color: rgba(255, 255, 255, 0.85);
    margin-bottom: 0.9rem;
    font-weight: 700;
  }

  .shoot-hero__title {
    font-size: clamp(2.8rem, 6.4vw, 6.4rem);
    line-height: 0.95;
    text-shadow: 0 12px 30px rgba(0, 0, 0, 0.35);
  }

  .scroll-indicator {
    position: absolute;
    left: 50%;
    bottom: 1.4rem;
    transform: translateX(-50%);
    display: inline-flex;
    flex-direction: column;
    align-items: center;
    gap: 0.35rem;
    color: rgba(255, 255, 255, 0.8);
    text-decoration: none;
    z-index: 2;
  }

  .scroll-indicator__dot {
    width: 8px;
    height: 8px;
    border-radius: 999px;
    border: 2px solid currentColor;
  }

  .scroll-indicator__line {
    width: 1px;
    height: 34px;
    background: linear-gradient(180deg, currentColor, rgba(255, 255, 255, 0));
    animation: scrollPulse 1.8s ease-in-out infinite;
  }

  .shoot-story__intro {
    max-width: 46rem;
  }

  .shoot-story__intro h2 {
    font-size: clamp(1.9rem, 3.2vw, 3.2rem);
    margin-bottom: 0.8rem;
  }

  .shoot-story__intro p {
    font-size: 1.05rem;
  }

  .shoot-gallery-label {
    font-family: var(--font-mono);
    text-transform: uppercase;
    letter-spacing: 0.24em;
    font-size: 0.7rem;
    color: var(--color-text-muted);
    margin-bottom: 1rem;
  }

  .shoot-pan {
    position: relative;
    width: 100vw;
    margin-left: calc(50% - 50vw);
  }

  .shoot-pan__sticky {
    position: sticky;
    top: calc(var(--header-space) + 1.5rem);
    height: clamp(320px, 70vh, 720px);
    display: flex;
    align-items: center;
    overflow: hidden;
  }

  .shoot-pan__track {
    display: flex;
    gap: 1.1rem;
    align-items: center;
    padding-left: 0;
    padding-right: max(1.5rem, calc((100vw - var(--container-max)) / 2));
    will-change: transform;
  }

  .shoot-pan__card {
    flex: 0 0 auto;
    width: clamp(260px, 70vw, 840px);
    aspect-ratio: 16 / 9;
    border-radius: 8px;
    overflow: hidden;
    background: #101219;
    box-shadow: var(--shadow-soft);
  }

  .shoot-pan__card img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }


  .section--flush {
    padding-top: 0;
  }

  .shoot-cta-section {
    padding-top: 1rem;
  }

  .shoot-cta {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: clamp(1.5rem, 4vw, 4rem);
    padding: clamp(1.5rem, 4vw, 3rem);
    border-radius: 22px;
    background-color: #0a0b10;
    background-image: linear-gradient(
        120deg,
        rgba(9, 24, 54, 0.88),
        rgba(4, 12, 28, 0.94)
      ),
      var(--cta-bg);
    background-size: cover;
    background-position: center;
    color: #f6f1ea;
    position: relative;
    overflow: hidden;
  }

  .shoot-cta__copy {
    position: relative;
    z-index: 1;
    max-width: 38rem;
  }

  .shoot-cta__tag {
    font-family: var(--font-mono);
    text-transform: uppercase;
    letter-spacing: 0.22em;
    font-size: 0.7rem;
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: 0.9rem;
  }

  .shoot-cta__copy h2 {
    font-size: clamp(2rem, 3.4vw, 3.2rem);
    margin-bottom: 0.8rem;
  }

  .shoot-cta__copy p {
    margin: 0;
    color: rgba(246, 241, 234, 0.85);
  }

  .shoot-cta__button {
    position: relative;
    z-index: 1;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.6rem;
    padding: 0.95rem 2.2rem;
    border-radius: 999px;
    text-decoration: none;
    font-weight: 600;
    color: #ffffff;
    background: var(--color-accent);
    box-shadow: 0 12px 26px rgba(20, 12, 6, 0.35);
    transition: transform 0.25s ease, box-shadow 0.25s ease;
    white-space: nowrap;
    isolation: isolate;
  }

  .shoot-cta__button::after {
    content: '';
    position: absolute;
    inset: -35%;
    transform: scale(0.9);
    z-index: -1;
    filter: blur(22px);
    background: radial-gradient(
        circle,
        rgba(255, 195, 0, 0.75) 0%,
        rgba(255, 89, 0, 0.6) 38%,
        rgba(255, 195, 0, 0.35) 58%,
        rgba(255, 195, 0, 0) 72%
      );
    animation: cta-glow-pulse 2.8s ease-in-out infinite;
    opacity: 0.9;
  }

  .shoot-cta__button:hover {
    transform: translateY(-2px);
    box-shadow: 0 16px 34px rgba(20, 12, 6, 0.4);
  }

  @keyframes scrollPulse {
    0%,
    100% {
      opacity: 0.35;
      transform: translateY(0);
    }
    50% {
      opacity: 0.9;
      transform: translateY(6px);
    }
  }

  @keyframes cta-glow-pulse {
    0%,
    100% {
      transform: scale(0.88);
      opacity: 0.75;
    }
    50% {
      transform: scale(1.02);
      opacity: 1;
    }
  }


  @media (max-width: 900px) {
    .shoot-hero {
      padding-bottom: 3rem;
    }

    .shoot-pan__sticky {
      top: calc(var(--header-space) + 1rem);
      height: clamp(260px, 65vh, 520px);
    }

    .shoot-pan__track {
      gap: 0.9rem;
      padding-left: 0;
      padding-right: 1.5rem;
    }

    .shoot-pan__card {
      width: clamp(220px, 82vw, 520px);
    }

    .shoot-cta {
      flex-direction: column;
      align-items: flex-start;
    }

  }

  @media (max-width: 640px) {
    .shoot-hero__title {
      font-size: clamp(2.4rem, 11vw, 3.5rem);
    }

    .shoot-hero__date {
      letter-spacing: 0;
    }

    .scroll-indicator {
      bottom: 1rem;
    }

    .shoot-pan__sticky {
      height: clamp(220px, 60vh, 420px);
    }

    .shoot-pan__card {
      width: clamp(200px, 88vw, 420px);
    }

    .shoot-cta {
      padding: 1.5rem;
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .scroll-indicator__line {
      animation: none;
    }

    .shoot-pan__track {
      transition: none;
    }

    .shoot-cta__button::after {
      animation: none;
    }

  }
</style>
