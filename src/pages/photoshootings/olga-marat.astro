---
import BaseLayout from '../../layouts/BaseLayout.astro'

const heroImage = '/photoshootings/olga-marat/28-olga-marat-atrani-2023.webp'
const shareImageAlt = 'Olga and Marat in Atrani on the Amalfi Coast'
const shootTitle = 'Symphony of Love'
const shootDate = '2023 сентября 08'

const articleTitle = {
  lead: 'Atrani Morning',
  accent: 'Photoshoot',
  tail: '– Capturing Dreams at Sunrise',
}
const articleQuote =
  'A sunrise photoshoot in Atrani, where beauty meets ambition. Discover the magic of morning light and timeless memories on the Amalfi Coast.'

const articleSectionTitle = {
  lead: 'Capture',
  accent: 'Essential',
  tail: 'Memories',
}
const articleDescriptionOne =
  'What started as a professional photoshoot soon transformed into a journey of discovery. As the sun climbed higher, the confidence shone brighter, and the pictures resonated with the spirit of the moment.'
const articleDescriptionTwo =
  'To the onlooker, it might seem like a regular photoshoot, but it was a memoir – one that would remind us of that beautiful morning in Atrani when dreams were captured, one snap at a time.'

const galleryOneImages = [
  {
    src: '/photoshootings/olga-marat/0001-olga-marat-atrani-2023.webp',
    alt: 'Olga and Marat in Atrani 1',
  },
  {
    src: '/photoshootings/olga-marat/0002-olga-marat-atrani-2023.webp',
    alt: 'Olga and Marat in Atrani 2',
  },
  {
    src: '/photoshootings/olga-marat/0003-olga-marat-atrani-2023.webp',
    alt: 'Olga and Marat in Atrani 3',
  },
  {
    src: '/photoshootings/olga-marat/0004-olga-marat-atrani-2023.webp',
    alt: 'Olga and Marat in Atrani 4',
  },
  {
    src: '/photoshootings/olga-marat/0005-olga-marat-atrani-2023.webp',
    alt: 'Olga and Marat in Atrani 5',
  },
  {
    src: '/photoshootings/olga-marat/0006-olga-marat-atrani-2023.webp',
    alt: 'Olga and Marat in Atrani 6',
  },
  {
    src: '/photoshootings/olga-marat/28-olga-marat-atrani-2023.webp',
    alt: 'Olga and Marat in Atrani 28',
  },
]
---

<BaseLayout
  title="Olga & Marat Photoshoot — CristallPont Amalfi Day"
  description="A Symphony of Love: Olga and Marat's idyllic Amalfi photoshoot in Atrani."
  image={heroImage}
  imageAlt={shareImageAlt}
>
  <div class="shoot-template">
    <section class="shoot-hero hero--dark">
      <img
        class="shoot-hero__img"
        src={heroImage}
        alt="Hero frame of the photoshoot"
        loading="eager"
        fetchpriority="high"
      />
      <div class="shoot-hero__veil" aria-hidden="true"></div>
      <div class="container shoot-hero__content">
        <div class="shoot-hero__meta">
          <div class="shoot-hero__date">{shootDate}</div>
          <h1 class="shoot-hero__title">{shootTitle}</h1>
        </div>
      </div>
      <a class="scroll-indicator" href="#shoot-story" aria-label="Scroll to story">
        <span class="scroll-indicator__dot"></span>
        <span class="scroll-indicator__line"></span>
      </a>
    </section>

    <section class="section shoot-story" id="shoot-story">
      <div class="container">
        <div class="shoot-story__intro">
          <div class="shoot-bridge__eyebrow">Morning Notes</div>
          <h2>
            {articleTitle.lead} <span class="accent-italic">{articleTitle.accent}</span>{' '}
            {articleTitle.tail}
          </h2>
          <blockquote class="shoot-story__quote">{articleQuote}</blockquote>
        </div>
      </div>
    </section>

    <section class="section section--flush">
      <div class="container">
        <div class="shoot-gallery-label">Gallery 1</div>
        <div class="shoot-pan" data-horizontal-gallery aria-label="Photoshoot gallery">
          <div class="shoot-pan__sticky">
            <div class="shoot-pan__track" data-horizontal-track>
              {galleryOneImages.map((image, index) => (
                <figure class="shoot-pan__card">
                  <img
                    src={image.src}
                    alt={image.alt}
                    loading={index < 2 ? 'eager' : 'lazy'}
                  />
                </figure>
              ))}
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="section shoot-story">
      <div class="container">
        <div class="shoot-story__intro">
          <div class="shoot-bridge__eyebrow">Shoot Details</div>
          <h2>
            {articleSectionTitle.lead}{' '}
            <span class="accent-italic">{articleSectionTitle.accent}</span>{' '}
            {articleSectionTitle.tail}
          </h2>
          <p>{articleDescriptionOne}</p>
          <p>{articleDescriptionTwo}</p>
          <p>
            If you are planning a couple photoshoot on the Amalfi Coast, Atrani is one of
            the most romantic spots to start the day. The quiet streets and soft sunrise
            light create a cinematic feel that works beautifully for engagement photos,
            anniversary sessions, and intimate travel stories.
          </p>
          <p>
            Every couple photoshoot here is paced to feel natural and effortless, with
            gentle direction, flattering angles, and scenic backdrops that highlight real
            connection. Whether you want classic romance or a modern, editorial look, we
            shape the shoot to match your story.
          </p>
        </div>
      </div>
    </section>

    <section class="section shoot-cta-section">
      <div class="container">
        <div class="shoot-cta" style={`--cta-bg: url(${heroImage})`}>
          <div class="shoot-cta__copy">
            <div class="shoot-cta__tag">Ready to create your story?</div>
            <h2>Let’s plan a photoshoot that feels like a film still.</h2>
            <p>
              Tell me your dates, mood, and locations — I’ll take care of the pacing,
              light, and seamless direction on the day.
            </p>
          </div>
          <a class="shoot-cta__button" href="/contact">
            <i class="bi bi-camera2" aria-hidden="true"></i>
            Request a photoshoot
          </a>
        </div>
      </div>
    </section>

  </div>

  <script is:inline>
    ;(() => {
      const hero = document.querySelector('.shoot-hero')
      if (hero) {
        const setHeroHeight = () => {
          hero.style.setProperty('--hero-height', `${window.innerHeight}px`)
        }
        setHeroHeight()
        window.addEventListener('resize', setHeroHeight)

      }

      const gallery = document.querySelector('[data-horizontal-gallery]')
      if (gallery) {
        const track = gallery.querySelector('[data-horizontal-track]')
        if (track) {
          let currentX = 0
          let targetX = 0
          let rafId = null

          const updateLayout = () => {
            const viewportWidth = gallery.clientWidth
            const trackWidth = track.scrollWidth
            const scrollDistance = Math.max(0, trackWidth - viewportWidth)
            const height = scrollDistance + window.innerHeight
            gallery.style.height = `${height}px`
            gallery.dataset.scrollDistance = String(scrollDistance)
            targetX = 0
            currentX = 0
            track.style.transform = 'translate3d(0, 0, 0)'
          }

          const animate = () => {
            const delta = targetX - currentX
            currentX += delta * 0.12
            if (Math.abs(delta) < 0.5) {
              currentX = targetX
            }
            track.style.transform = `translate3d(${currentX}px, 0, 0)`
            if (currentX !== targetX) {
              rafId = requestAnimationFrame(animate)
            } else {
              rafId = null
            }
          }

          let ticking = false
          const onScroll = () => {
            const scrollDistance = Number(gallery.dataset.scrollDistance || 0)
            if (scrollDistance <= 0) {
              targetX = 0
              if (!rafId) {
                rafId = requestAnimationFrame(animate)
              }
              return
            }
            const rect = gallery.getBoundingClientRect()
            const totalScroll = gallery.offsetHeight - window.innerHeight
            const progress =
              totalScroll > 0 ? Math.min(Math.max(-rect.top / totalScroll, 0), 1) : 0
            targetX = -scrollDistance * progress
            if (!rafId) {
              rafId = requestAnimationFrame(animate)
            }
          }

          const requestTick = () => {
            if (ticking) return
            ticking = true
            requestAnimationFrame(() => {
              onScroll()
              ticking = false
            })
          }

          updateLayout()
          requestTick()

          window.addEventListener('scroll', requestTick, { passive: true })
          window.addEventListener('resize', () => {
            updateLayout()
            requestTick()
          })

          if ('ResizeObserver' in window) {
            const observer = new ResizeObserver(() => {
              updateLayout()
              requestTick()
            })
            observer.observe(track)
          }
        }
      }

    })()
  </script>
</BaseLayout>

<style>
  .shoot-template {
    position: relative;
  }

  .shoot-hero {
    position: relative;
    height: var(--hero-height, 100svh);
    min-height: 100svh;
    display: flex;
    align-items: flex-end;
    padding: calc(var(--header-space) + 1.5rem) 0 3.75rem;
    color: #ffffff;
    overflow: hidden;
  }

  .shoot-hero__img {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center 30%;
    filter: saturate(1.05) contrast(1.05);
  }

  .shoot-hero__veil {
    position: absolute;
    inset: 0;
    background: linear-gradient(
      180deg,
      rgba(8, 10, 14, 0.2) 0%,
      rgba(8, 10, 14, 0.5) 45%,
      rgba(8, 10, 14, 0.85) 100%
    );
  }


  .shoot-hero__content {
    position: relative;
    z-index: 2;
    width: 100%;
  }

  .shoot-hero__meta {
    max-width: 40rem;
  }

  .shoot-hero__date {
    font-family: var(--font-mono);
    font-size: clamp(0.75rem, 1.5vw, 1rem);
    letter-spacing: 0;
    text-transform: uppercase;
    color: rgba(255, 255, 255, 0.85);
    margin-bottom: 0.9rem;
    font-weight: 700;
  }

  .shoot-hero__title {
    font-size: clamp(2.8rem, 6.4vw, 6.4rem);
    line-height: 0.95;
    text-shadow: 0 12px 30px rgba(0, 0, 0, 0.35);
  }

  .scroll-indicator {
    position: absolute;
    left: 50%;
    bottom: 1.4rem;
    transform: translateX(-50%);
    display: inline-flex;
    flex-direction: column;
    align-items: center;
    gap: 0.35rem;
    color: rgba(255, 255, 255, 0.8);
    text-decoration: none;
    z-index: 2;
  }

  .scroll-indicator__dot {
    width: 8px;
    height: 8px;
    border-radius: 999px;
    border: 2px solid currentColor;
  }

  .scroll-indicator__line {
    width: 1px;
    height: 34px;
    background: linear-gradient(180deg, currentColor, rgba(255, 255, 255, 0));
    animation: scrollPulse 1.8s ease-in-out infinite;
  }

  .shoot-story__intro {
    max-width: 46rem;
  }

  .shoot-story__intro h2 {
    font-size: clamp(1.9rem, 3.2vw, 3.2rem);
    margin-bottom: 0.8rem;
  }

  .shoot-story__intro p {
    font-size: 1.05rem;
  }

  .shoot-bridge__eyebrow {
    font-family: var(--font-mono);
    text-transform: uppercase;
    letter-spacing: 0.2em;
    font-size: 0.7rem;
    color: var(--color-text-muted);
    margin-bottom: 0.8rem;
  }

  .shoot-story__quote {
    margin: 1.4rem 0 0;
    padding-left: 1.5rem;
    border-left: 2px solid rgba(15, 20, 30, 0.22);
    color: var(--color-text-muted);
    font-style: italic;
    font-size: 1.05rem;
  }

  .shoot-gallery-label {
    font-family: var(--font-mono);
    text-transform: uppercase;
    letter-spacing: 0.24em;
    font-size: 0.7rem;
    color: var(--color-text-muted);
    margin-bottom: 1rem;
  }

  .shoot-pan {
    position: relative;
    width: 100vw;
    margin-left: calc(50% - 50vw);
  }

  .shoot-pan__sticky {
    position: sticky;
    top: calc(var(--header-space) + 1.5rem);
    height: clamp(320px, 70vh, 720px);
    display: flex;
    align-items: center;
    overflow: visible;
  }

  .shoot-pan__track {
    display: flex;
    gap: 1.1rem;
    align-items: center;
    padding-left: 0;
    padding-right: max(1.5rem, calc((100vw - var(--container-max)) / 2));
    padding-bottom: 24px;
    will-change: transform;
  }

  .shoot-pan__card {
    flex: 0 0 auto;
    width: clamp(260px, 70vw, 840px);
    aspect-ratio: 16 / 9;
    border-radius: 8px;
    overflow: hidden;
    background: #101219;
    box-shadow: var(--shadow-soft);
  }

  .shoot-pan__card img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }


  .section--flush {
    padding-top: 0;
  }

  .shoot-cta-section {
    padding-top: 1rem;
  }

  .shoot-cta {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: clamp(1.5rem, 4vw, 4rem);
    padding: clamp(1.5rem, 4vw, 3rem);
    border-radius: 22px;
    background-color: #0a0b10;
    background-image: linear-gradient(
        120deg,
        rgba(9, 24, 54, 0.88),
        rgba(4, 12, 28, 0.94)
      ),
      var(--cta-bg);
    background-size: cover;
    background-position: center;
    color: #f6f1ea;
    position: relative;
    overflow: hidden;
  }

  .shoot-cta__copy {
    position: relative;
    z-index: 1;
    max-width: 38rem;
  }

  .shoot-cta__tag {
    font-family: var(--font-mono);
    text-transform: uppercase;
    letter-spacing: 0.22em;
    font-size: 0.7rem;
    color: rgba(255, 255, 255, 0.7);
  }

  .shoot-cta__button {
    position: relative;
    z-index: 1;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.3);
    color: #ffffff;
  }

  @media (max-width: 900px) {
    .shoot-cta {
      flex-direction: column;
      align-items: flex-start;
    }
  }
</style>
