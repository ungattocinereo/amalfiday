---
import BaseLayout from '../../layouts/BaseLayout.astro'

const heroImage = '/photoshootings/camelia/4-camelia-photoshooting-moto.webp'
const shootTitle = 'Camelia: Beautiful Experience'
const shootDate = 'September · 05 · 2017'

const storyBlockOne = {
  eyebrow: 'September ride',
  lead: 'Journey Through',
  accent: "Tramonti's",
  tail: 'Scenic Splendor',
  paragraphs: [
    "As September whispered its last enchantments, a remarkable photographic journey was woven into the heart of Tramonti, a gem on the breathtaking Amalfi Coast. A ride on the winds of the open road, on my motorbike, through landscapes embroidered with vineyards and kissed by the Italian sun, marked the canvas of our unforgettable adventure.",
    "Camelia, the muse of our photoshoot, embodied the essence of nature's grace. Her presence, a dance of joy amid the vibrant tapestry of Tramonti's vistas, turning each captured moment into a canvas of beauty and the warmth of Italian allure.",
  ],
}

const storyBlockTwo = {
  eyebrow: 'Guided paths',
  lead: 'A Blend of',
  accent: 'Photography',
  tail: 'and Exploration',
  paragraph:
    "Our exploration was a harmonious marriage of photography and a guided tour through the enchanting pathways of Tramonti. Guided by me, Greg, the day unfurled as a delightful exploration, each snapshot taken weaving the story of the village's rich culture, history, and the mesmerizing embrace of nature's beauty.",
}

const storyBlockThree = {
  eyebrow: 'Belvedere view',
  lead: 'Reaching New',
  accent: 'Heights',
  tail: ': Overlooking the Naples Valley',
  paragraph:
    "Guiding Camelia through the village's beauty, we reached the pinnacle at a belvedere over 880 meters above sea level, overlooking the stunning Naples Valley. A majestic view, where the Vesuvius stood as a guardian of history and natural wonder, crowned our photographic journey, leaving us with images and memories as vivid as the landscapes of Tramonti.",
}

const galleryTwoImages = [
  {
    src: '/photoshootings/camelia/001-camelia-photoshooting-moto.webp',
    alt: 'Camelia on a motorbike in Tramonti — frame 01',
  },
  {
    src: '/photoshootings/camelia/002-camelia-photoshooting-moto.webp',
    alt: 'Camelia on a motorbike in Tramonti — frame 02',
  },
  {
    src: '/photoshootings/camelia/003-camelia-photoshooting-moto.webp',
    alt: 'Camelia on a motorbike in Tramonti — frame 03',
  },
  {
    src: '/photoshootings/camelia/004-camelia-photoshooting-moto.webp',
    alt: 'Camelia on a motorbike in Tramonti — frame 04',
  },
  {
    src: '/photoshootings/camelia/005-camelia-photoshooting-moto.webp',
    alt: 'Camelia on a motorbike in Tramonti — frame 05',
  },
  {
    src: '/photoshootings/camelia/006-camelia-photoshooting-moto.webp',
    alt: 'Camelia on a motorbike in Tramonti — frame 06',
  },
  {
    src: '/photoshootings/camelia/007-camelia-photoshooting-moto.webp',
    alt: 'Camelia on a motorbike in Tramonti — frame 07',
  },
  {
    src: '/photoshootings/camelia/4-camelia-photoshooting-moto.webp',
    alt: 'Camelia on a motorbike in Tramonti — frame 08',
  },
  {
    src: '/photoshootings/camelia/111-camelia-photoshooting-moto.webp',
    alt: 'Camelia on a motorbike in Tramonti — frame 09',
  },
  {
    src: '/photoshootings/camelia/222-camelia-photoshooting-moto.webp',
    alt: 'Camelia on a motorbike in Tramonti — frame 10',
  },
]
---

<BaseLayout
  title="Camelia Photoshoot — Amalfi.Day"
  description="A photo journey through Tramonti and sunset — Camelia's beautiful experience on the Amalfi Coast."
>
  <div class="shoot-template">
    <section class="shoot-hero hero--dark">
      <img
        class="shoot-hero__img"
        src={heroImage}
        alt="Hero frame of the photoshoot"
        loading="eager"
        fetchpriority="high"
      />
      <div class="shoot-hero__veil" aria-hidden="true"></div>
      <div class="container shoot-hero__content">
        <div class="shoot-hero__meta">
          <div class="shoot-hero__date">{shootDate}</div>
          <h1 class="shoot-hero__title">{shootTitle}</h1>
        </div>
      </div>
      <a class="scroll-indicator" href="#shoot-story" aria-label="Scroll to story">
        <span class="scroll-indicator__dot"></span>
        <span class="scroll-indicator__line"></span>
      </a>
    </section>

    <section class="section shoot-story" id="shoot-story">
      <div class="container">
        <div class="shoot-story__intro">
          <div class="shoot-bridge__eyebrow">{storyBlockOne.eyebrow}</div>
          <h2>
            {storyBlockOne.lead} <span class="accent-italic">{storyBlockOne.accent}</span>{' '}
            {storyBlockOne.tail}
          </h2>
          {storyBlockOne.paragraphs.map((paragraph) => (
            <p>{paragraph}</p>
          ))}
        </div>
      </div>
    </section>

    <section class="section section--flush">
      <div class="container">
        <div class="shoot-gallery-label">PHOTOGALLERY</div>
        <div class="shoot-scroll" data-scroll-gallery aria-label="Photoshoot scroll gallery">
          <div class="shoot-scroll__media">
            <div class="shoot-scroll__media-frame">
              {galleryTwoImages.map((image, index) => (
                <img
                  class={index === 0 ? 'is-active' : ''}
                  src={image.src}
                  alt={image.alt}
                  loading={index === 0 ? 'eager' : 'lazy'}
                  data-scroll-image
                />
              ))}
              <div class="shoot-scroll__fade" aria-hidden="true"></div>
            </div>
            <div class="shoot-scroll__dots" data-scroll-dots aria-hidden="true">
              {galleryTwoImages.map((image, index) => (
                <span class={index === 0 ? 'is-active' : ''} data-scroll-dot></span>
              ))}
            </div>
          </div>
          <div class="shoot-scroll__spacer" data-scroll-spacer aria-hidden="true"></div>
        </div>
      </div>
    </section>

    <section class="section shoot-bridge">
      <div class="container">
        <div class="shoot-bridge__wrap">
          <div class="shoot-bridge__eyebrow">{storyBlockTwo.eyebrow}</div>
          <h2>
            {storyBlockTwo.lead} <span class="accent-italic">{storyBlockTwo.accent}</span>{' '}
            {storyBlockTwo.tail}
          </h2>
          <p>{storyBlockTwo.paragraph}</p>
        </div>
      </div>
    </section>

    <div class="shoot-divider" aria-hidden="true"></div>

    <section class="section shoot-bridge">
      <div class="container">
        <div class="shoot-bridge__wrap">
          <div class="shoot-bridge__eyebrow">{storyBlockThree.eyebrow}</div>
          <h2>
            {storyBlockThree.lead} <span class="accent-italic">{storyBlockThree.accent}</span>{' '}
            {storyBlockThree.tail}
          </h2>
          <p>{storyBlockThree.paragraph}</p>
        </div>
      </div>
    </section>

    <section class="section shoot-cta-section">
      <div class="container">
        <div class="shoot-cta" style={`--cta-bg: url(${heroImage})`}>
          <div class="shoot-cta__copy">
            <div class="shoot-cta__tag">Ready to create your story?</div>
            <h2>Let’s plan a photoshoot that feels like a film still.</h2>
            <p>
              Tell me your dates, mood, and locations — I’ll take care of the pacing,
              light, and seamless direction on the day.
            </p>
          </div>
          <a class="shoot-cta__button" href="/contact">
            <i class="bi bi-camera2" aria-hidden="true"></i>
            Request a photoshoot
          </a>
        </div>
      </div>
    </section>

  </div>

  <script is:inline>
    ;(() => {
      const hero = document.querySelector('.shoot-hero')
      if (hero) {
        const setHeroHeight = () => {
          hero.style.setProperty('--hero-height', `${window.innerHeight}px`)
        }
        setHeroHeight()
        window.addEventListener('resize', setHeroHeight)

      }

      const scrollGallery = document.querySelector('[data-scroll-gallery]')
      if (scrollGallery) {
        const images = Array.from(scrollGallery.querySelectorAll('[data-scroll-image]'))
        const spacer = scrollGallery.querySelector('[data-scroll-spacer]')
        const dots = Array.from(scrollGallery.querySelectorAll('[data-scroll-dot]'))
        if (images.length && spacer) {
          let activeIndex = 0
          const setActive = (nextIndex) => {
            if (nextIndex === activeIndex) return
            activeIndex = nextIndex
            images.forEach((image, index) => {
              image.classList.toggle('is-active', index === activeIndex)
            })
            dots.forEach((dot, index) => {
              dot.classList.toggle('is-active', index === activeIndex)
            })
          }

          const updateLayout = () => {
            const stepHeight = window.innerHeight * 0.7
            const totalHeight = Math.max(images.length * stepHeight, window.innerHeight * 1.1)
            spacer.style.height = `${totalHeight}px`
          }

          let ticking = false
          const onScroll = () => {
            const totalScroll = scrollGallery.offsetHeight - window.innerHeight
            const rect = scrollGallery.getBoundingClientRect()
            const progress =
              totalScroll > 0 ? Math.min(Math.max(-rect.top / totalScroll, 0), 1) : 0
            const nextIndex = Math.min(
              images.length - 1,
              Math.max(0, Math.round(progress * (images.length - 1)))
            )
            setActive(nextIndex)
          }

          const requestTick = () => {
            if (ticking) return
            ticking = true
            requestAnimationFrame(() => {
              onScroll()
              ticking = false
            })
          }

          updateLayout()
          requestTick()

          window.addEventListener('scroll', requestTick, { passive: true })
          window.addEventListener('resize', () => {
            updateLayout()
            requestTick()
          })
        }
      }

    })()
  </script>
</BaseLayout>

<style>
  .shoot-template {
    position: relative;
  }

  .shoot-hero {
    position: relative;
    height: var(--hero-height, 100svh);
    min-height: 100svh;
    display: flex;
    align-items: flex-end;
    padding: calc(var(--header-space) + 1.5rem) 0 3.75rem;
    color: #ffffff;
    overflow: hidden;
  }

  .shoot-hero__img {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center 30%;
    filter: saturate(1.05) contrast(1.05);
  }

  .shoot-hero__veil {
    position: absolute;
    inset: 0;
    background: linear-gradient(
      180deg,
      rgba(8, 10, 14, 0.2) 0%,
      rgba(8, 10, 14, 0.5) 45%,
      rgba(8, 10, 14, 0.85) 100%
    );
  }


  .shoot-hero__content {
    position: relative;
    z-index: 2;
    width: 100%;
  }

  .shoot-hero__meta {
    max-width: 40rem;
  }

  .shoot-hero__date {
    font-family: var(--font-mono);
    font-size: clamp(0.75rem, 1.5vw, 1rem);
    letter-spacing: 0;
    text-transform: uppercase;
    color: rgba(255, 255, 255, 0.85);
    margin-bottom: 0.9rem;
    font-weight: 700;
  }

  .shoot-hero__title {
    font-size: clamp(2.8rem, 6.4vw, 6.4rem);
    line-height: 0.95;
    text-shadow: 0 12px 30px rgba(0, 0, 0, 0.35);
  }

  .scroll-indicator {
    position: absolute;
    left: 50%;
    bottom: 1.4rem;
    transform: translateX(-50%);
    display: inline-flex;
    flex-direction: column;
    align-items: center;
    gap: 0.35rem;
    color: rgba(255, 255, 255, 0.8);
    text-decoration: none;
    z-index: 2;
  }

  .scroll-indicator__dot {
    width: 8px;
    height: 8px;
    border-radius: 999px;
    border: 2px solid currentColor;
  }

  .scroll-indicator__line {
    width: 1px;
    height: 34px;
    background: linear-gradient(180deg, currentColor, rgba(255, 255, 255, 0));
    animation: scrollPulse 1.8s ease-in-out infinite;
  }

  .shoot-story__intro {
    max-width: 46rem;
  }

  .shoot-story__intro h2 {
    font-size: clamp(1.9rem, 3.2vw, 3.2rem);
    margin-bottom: 0.8rem;
  }

  .shoot-story__intro p {
    font-size: 1.05rem;
  }

  .shoot-gallery-label {
    font-family: var(--font-mono);
    text-transform: uppercase;
    letter-spacing: 0.24em;
    font-size: 0.7rem;
    color: var(--color-text-muted);
    margin-bottom: 1rem;
  }

  .section--flush {
    padding-top: 0;
  }

  .shoot-bridge {
    padding-top: 1.5rem;
  }

  .shoot-bridge__wrap {
    max-width: 46rem;
    padding: 0;
  }

  .shoot-bridge__eyebrow {
    font-family: var(--font-mono);
    text-transform: uppercase;
    letter-spacing: 0.2em;
    font-size: 0.7rem;
    color: var(--color-text-muted);
    margin-bottom: 0.8rem;
  }

  .shoot-bridge__wrap h2 {
    font-size: clamp(1.8rem, 3vw, 2.8rem);
    margin-bottom: 0.9rem;
  }

  .shoot-bridge__wrap p {
    font-size: 1.05rem;
    margin: 0;
  }

  .shoot-divider {
    width: min(100%, var(--container-max));
    height: 1px;
    margin: 0 auto;
    background: linear-gradient(
      90deg,
      rgba(15, 20, 32, 0),
      rgba(15, 20, 32, 0.25),
      rgba(15, 20, 32, 0)
    );
  }

  .shoot-scroll {
    display: grid;
    grid-template-columns: minmax(0, 1fr);
    gap: clamp(1.5rem, 4vw, 4rem);
    align-items: start;
  }

  .shoot-scroll__media {
    position: sticky;
    top: calc(var(--header-space) + 1.5rem);
  }

  .shoot-scroll__media-frame {
    position: relative;
    width: 100%;
    aspect-ratio: 16 / 9;
    height: auto;
    max-height: 85vh;
    border-radius: 18px;
    overflow: hidden;
    background: #0f1117;
    box-shadow: 0 24px 60px rgba(10, 12, 18, 0.22);
  }

  .shoot-scroll__media-frame img {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0;
    transition: opacity 0.35s ease;
  }

  .shoot-scroll__media-frame img.is-active {
    opacity: 1;
  }

  .shoot-scroll__fade {
    position: absolute;
    inset: 0;
    background: linear-gradient(180deg, rgba(9, 10, 15, 0) 45%, rgba(9, 10, 15, 0.25) 100%);
    pointer-events: none;
  }

  .shoot-scroll__dots {
    display: flex;
    justify-content: center;
    gap: 0.5rem;
    margin-top: 1rem;
  }

  .shoot-scroll__dots span {
    width: 8px;
    height: 8px;
    border-radius: 999px;
    background: rgba(12, 16, 24, 0.22);
    transition: transform 0.25s ease, background 0.25s ease;
  }

  .shoot-scroll__dots span.is-active {
    background: rgba(12, 16, 24, 0.7);
    transform: scale(1.35);
  }

  .shoot-scroll__spacer {
    height: 60vh;
  }

  .shoot-cta-section {
    padding-top: 1rem;
  }

  .shoot-cta {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: clamp(1.5rem, 4vw, 4rem);
    padding: clamp(1.5rem, 4vw, 3rem);
    border-radius: 22px;
    background-color: #0a0b10;
    background-image: linear-gradient(
        120deg,
        rgba(9, 24, 54, 0.88),
        rgba(4, 12, 28, 0.94)
      ),
      var(--cta-bg);
    background-size: cover;
    background-position: center;
    color: #f6f1ea;
    position: relative;
    overflow: hidden;
  }

  .shoot-cta__copy {
    position: relative;
    z-index: 1;
    max-width: 38rem;
  }

  .shoot-cta__tag {
    font-family: var(--font-mono);
    text-transform: uppercase;
    letter-spacing: 0.22em;
    font-size: 0.7rem;
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: 0.9rem;
  }

  .shoot-cta__copy h2 {
    font-size: clamp(2rem, 3.4vw, 3.2rem);
    margin-bottom: 0.8rem;
  }

  .shoot-cta__copy p {
    margin: 0;
    color: rgba(246, 241, 234, 0.85);
  }

  .shoot-cta__button {
    position: relative;
    z-index: 1;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.6rem;
    padding: 0.95rem 2.2rem;
    border-radius: 999px;
    text-decoration: none;
    font-weight: 600;
    color: #ffffff;
    background: var(--color-accent);
    box-shadow: 0 12px 26px rgba(20, 12, 6, 0.35);
    transition: transform 0.25s ease, box-shadow 0.25s ease;
    white-space: nowrap;
    isolation: isolate;
  }

  .shoot-cta__button::after {
    content: '';
    position: absolute;
    inset: -35%;
    transform: scale(0.9);
    z-index: -1;
    filter: blur(22px);
    background: radial-gradient(
        circle,
        rgba(255, 195, 0, 0.75) 0%,
        rgba(255, 89, 0, 0.6) 38%,
        rgba(255, 195, 0, 0.35) 58%,
        rgba(255, 195, 0, 0) 72%
      );
    animation: cta-glow-pulse 2.8s ease-in-out infinite;
    opacity: 0.9;
  }

  .shoot-cta__button:hover {
    transform: translateY(-2px);
    box-shadow: 0 16px 34px rgba(20, 12, 6, 0.4);
  }

  @keyframes scrollPulse {
    0%,
    100% {
      opacity: 0.35;
      transform: translateY(0);
    }
    50% {
      opacity: 0.9;
      transform: translateY(6px);
    }
  }

  @keyframes cta-glow-pulse {
    0%,
    100% {
      transform: scale(0.88);
      opacity: 0.75;
    }
    50% {
      transform: scale(1.02);
      opacity: 1;
    }
  }


  @media (max-width: 900px) {
    .shoot-hero {
      padding-bottom: 3rem;
    }

    .shoot-scroll__media {
      position: sticky;
      top: calc(var(--header-space) + 1rem);
    }

    .shoot-scroll__media-frame {
      max-height: 78vh;
    }

    .shoot-cta {
      flex-direction: column;
      align-items: flex-start;
    }

  }

  @media (max-width: 640px) {
    .shoot-hero__title {
      font-size: clamp(2.4rem, 11vw, 3.5rem);
    }

    .shoot-hero__date {
      letter-spacing: 0;
    }

    .scroll-indicator {
      bottom: 1rem;
    }

    .shoot-scroll__media-frame {
      max-height: 62vh;
      border-radius: 14px;
    }

    .shoot-scroll__dots span {
      width: 7px;
      height: 7px;
    }

    .shoot-cta {
      padding: 1.5rem;
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .scroll-indicator__line {
      animation: none;
    }

    .shoot-scroll__media-frame img {
      transition: none;
    }

    .shoot-cta__button::after {
      animation: none;
    }

  }
</style>
