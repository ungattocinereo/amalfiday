---
import BaseLayout from '../layouts/BaseLayout.astro'

const pageTitle = 'Moto roads — CristallPont Amalfi Day'
const pageDescription =
  'Two scenic motorcycle routes on the Amalfi Coast: Tramonti Valley and the winding road from Amalfi to Agerola. Viewpoints, stops, and ride planning notes.'
const shareImage = '/pre-footer/girl-on-moto-in-amalfi-small.webp'
const mapEmbed =
  'https://www.google.com/maps/d/u/0/embed?mid=1z8saTtHohjOPGR4ejlsJ_qT0a8KLg8g&ehbc=2E312F&ll=40.6805,14.623&z=11&output=embed'
const mapShare =
  'https://www.google.com/maps/d/u/0/edit?mid=1z8saTtHohjOPGR4ejlsJ_qT0a8KLg8g&usp=sharing'

const mapEmbed2 =
  'https://www.google.com/maps/d/u/0/embed?mid=1hgoMDsmnVBDd15Y38Vp5fPrUbXoP7So&ehbc=2E312F&noprof=1'
const mapShare2 =
  'https://www.google.com/maps/d/u/0/edit?mid=1hgoMDsmnVBDd15Y38Vp5fPrUbXoP7So&usp=sharing'

const stops2 = [
  {
    letter: 'A',
    title: 'GAS Bar',
    subtitle: 'The Perfect Start',
    text: 'This bar is a beloved haunt of every cyclist and biker on the Amalfi Coast. The cornetti with cream and cherry are exquisite, the views are breathtaking, and the coffee is superb. In the evenings, they serve pizza and inventive cocktails.',
  },
  {
    letter: 'B',
    title: 'Monastero Santa Rosa',
    subtitle: 'A Hidden Balcony',
    text: 'One of the most beautiful monasteries on the coast, now a luxury hotel. Just before it, you\'ll pass through a tunnel — look for a small opening on the left side. It leads to a magnificent balcony hidden inside the tunnel. Park your motorcycle near the monastery, walk back, and step onto this secret viewpoint. You\'ll be speechless.',
  },
  {
    letter: 'C',
    title: 'Marisa Cuomo',
    subtitle: 'Legendary Winery',
    text: 'One of the most famous wineries on the entire Amalfi Coast. If you want truly exceptional (and expensive) wine, you can buy directly from them. Book a visit to their garden and winery in advance on their website for an unforgettable experience. A good bottle starts from \u20AC50 and up.',
    hint: 'Book your visit in advance — it\u2019s worth every minute.',
    hintLink: { url: 'https://www.marisacuomo.com/wine-tastings-amalfi-coast-salerno.php', label: 'Book a visit' },
  },
  {
    letter: 'D',
    title: 'L\'Incanto',
    subtitle: 'Cliffside Restaurant',
    text: 'A magnificent restaurant perched on the cliff edge right before Agerola. Stunning panoramic views, excellent cuisine, and a large parking area for both cars and motorcycles. Highly recommended.',
  },
  {
    letter: 'E',
    title: 'Path of the Gods',
    subtitle: 'Trail Starting Point',
    text: 'This is where the famous Path of the Gods begins. You can ride further through Agerola and enjoy the views, or park your motorcycle here and walk a good stretch of this legendary trail on foot. Then return, hop back on the bike, and ride the winding road back down.',
    hint: 'In summer, this curvy road has incredible light and often hosts vintage Italian car parades.',
  },
]

const stops = [
  {
    letter: 'A',
    title: 'Atrani',
    subtitle: 'The Starting Point',
    text: 'Begin your adventure in the charming coastal town of Atrani, known for its picturesque streets and historic architecture.',
  },
  {
    letter: 'B',
    title: 'Ravello',
    subtitle: 'A Scenic Viewpoint',
    text: 'Ascend to the hilltop town of Ravello, perched 365 meters above the sea, offering panoramic views that have inspired artists for centuries.',
  },
  {
    letter: 'C',
    title: 'Caseificio Vicedomini',
    subtitle: 'Mozzarella Heaven',
    text: 'At the crossroad, discover Caseificio Vicedomini, a renowned mozzarella factory offering delectable, locally-made cheese. Located on the ground floor of a building, this hidden gem can be a bit tricky to find. Look for the stairs leading down, ring the bell at the door. Cash payments only.',
  },
  {
    letter: 'D',
    title: 'Cantina Apicella',
    subtitle: 'Wine Lover\'s Paradise',
    text: 'One of the Amalfi Coast\'s largest wine producers, known for its impressive annual output of 70,000 bottles. Purchase local wine in various sizes, or book a visit for wine tastings and excursions to the winery and their picturesque garden.',
    hint: 'Text us if you need help to book your visit.',
  },
  {
    letter: 'E',
    title: 'Tramonti Cemetery',
    subtitle: 'A Unique Resting Place',
    text: 'Encounter the distinctive Tramonti cemetery, nestled in the heart of the valley and surrounded by stunning mountain scenery.',
  },
  {
    letter: 'G',
    title: 'Valico Chiunzi',
    subtitle: 'An Iconic Viewpoint',
    text: 'Ascend to Valico Chiunzi, a restaurant and viewpoint 880 meters above sea level, offering unparalleled vistas of the Naples Valley and Mount Vesuvius.',
  },
  {
    letter: 'H',
    title: 'Hidden Waterfall',
    subtitle: 'A Natural Wonder',
    text: 'Near Maiori, take a short hike behind the mountain to uncover a magnificent waterfall and a river.',
  },
  {
    letter: 'I',
    title: 'Sal De Riso',
    subtitle: 'Sweet Delights in Minori',
    text: 'Indulge your taste buds at Sal De Riso, Minori\'s premier pastry shop, renowned for its irresistible Italian desserts.',
  },
]
---

<BaseLayout title={pageTitle} description={pageDescription} image={shareImage}>
  <!-- HERO -->
  <section class="mh section hero--dark">
    <div class="mh__bg" aria-hidden="true">
      <svg class="mh__road" viewBox="0 0 1200 800" preserveAspectRatio="xMidYMid slice">
        <defs>
          <linearGradient id="roadGrad" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0%" stop-color="rgba(255,89,0,0.5)" />
            <stop offset="100%" stop-color="rgba(255,195,0,0.15)" />
          </linearGradient>
        </defs>
        <path
          class="mh__road-base"
          d="M-40 750 C150 650, 200 500, 350 420 S550 280, 650 320 S800 420, 900 350 S1050 180, 1240 80"
        />
        <path
          class="mh__road-center"
          d="M-40 750 C150 650, 200 500, 350 420 S550 280, 650 320 S800 420, 900 350 S1050 180, 1240 80"
        />
        <path
          class="mh__road-glow"
          d="M-40 750 C150 650, 200 500, 350 420 S550 280, 650 320 S800 420, 900 350 S1050 180, 1240 80"
        />
      </svg>
      <div class="mh__grain"></div>
    </div>
    <div class="container mh__content">
      <div class="mh__top">
        <span class="mh__eyebrow">
          <span class="mh__eyebrow-dot"></span>
          Tramonti Valley Route
        </span>
      </div>
      <h1 class="mh__title">
        <span class="mh__title-line">The winding</span>
        <span class="mh__title-line"><em>road</em> above</span>
        <span class="mh__title-line">the clouds</span>
      </h1>
      <p class="mh__lead">
        A secret motorcycle route through the untouched heart of the Amalfi Coast.
        From sea level to 880m — where tourists never go.
      </p>
      <div class="mh__actions">
        <a class="button" href="#route">
          <i class="bi bi-arrow-down-circle"></i>
          Explore the route
        </a>
        <a class="mh__ghost-btn" href={mapShare} target="_blank" rel="noreferrer">
          <i class="bi bi-map"></i>
          Open in Google Maps
        </a>
      </div>
      <div class="mh__stats" data-stats>
        <div class="mh__stat">
          <div class="mh__stat-num">
            <span class="mh__counter" data-target="42.4" data-decimals="1">0</span>
          </div>
          <div class="mh__stat-unit">km</div>
          <div class="mh__stat-label">Route length</div>
        </div>
        <div class="mh__stat-divider"></div>
        <div class="mh__stat">
          <div class="mh__stat-num">
            <span class="mh__counter" data-target="694" data-decimals="0">0</span>
          </div>
          <div class="mh__stat-unit">m</div>
          <div class="mh__stat-label">Peak elevation</div>
        </div>
        <div class="mh__stat-divider"></div>
        <div class="mh__stat">
          <div class="mh__stat-num">
            <span class="mh__counter" data-target="96" data-decimals="0">0</span><span class="mh__stat-suffix">%</span>
          </div>
          <div class="mh__stat-unit">&nbsp;</div>
          <div class="mh__stat-label">Unknown to tourists</div>
        </div>
        <div class="mh__stat-divider"></div>
        <div class="mh__stat">
          <div class="mh__stat-num">
            <span class="mh__counter" data-target="8" data-decimals="0">0</span>
          </div>
          <div class="mh__stat-unit">stops</div>
          <div class="mh__stat-label">Points of interest</div>
        </div>
      </div>
    </div>
    <div class="mh__scroll-hint" aria-hidden="true">
      <span></span>
    </div>
  </section>

  <!-- MAP + ROUTE INFO -->
  <section class="mr section" id="route">
    <div class="container">
      <div class="mr__header">
        <span class="mr__eyebrow">Route overview</span>
        <h2 class="mr__title">
          Ride through <em>Tramonti</em> Valley
        </h2>
        <p class="mr__lead">
          Get ready to uncover the raw, untamed beauty of the Amalfi Coast as you navigate the
          twists and turns of Tramonti Valley. We have prepared this map in different formats
          that you can use on your navigators or online.
        </p>
      </div>

      <div class="mr__card">
        <div class="mr__card-inner">
          <div class="mr__map-wrap">
            <iframe
              title="Tramonti Valley moto map"
              src={mapEmbed}
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade"
            ></iframe>
          </div>
          <div class="mr__card-bar">
            <div class="mr__downloads">
              <a
                class="mr__dl-btn mr__dl-btn--primary"
                href="https://amalfi.day/files/Maps/Tramonti-Valley-driving.kmz"
                target="_blank"
                rel="noreferrer"
              >
                <i class="bi bi-download"></i>
                KMZ
              </a>
              <a
                class="mr__dl-btn"
                href="https://amalfi.day/files/Maps/Tramonti-Valley-driving.gpx"
                target="_blank"
                rel="noreferrer"
              >
                <i class="bi bi-download"></i>
                GPX
              </a>
              <a
                class="mr__dl-btn mr__dl-btn--maps"
                href={mapShare}
                target="_blank"
                rel="noreferrer"
              >
                <i class="bi bi-map"></i>
                Google Maps
              </a>
            </div>
            <div class="mr__route-tag">
              <i class="bi bi-signpost-2"></i>
              Atrani → Valico Chiunzi → Minori
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- TIMELINE STOPS -->
  <section class="mt section">
    <div class="container">
      <div class="mt__header">
        <span class="mr__eyebrow">Route letters</span>
        <h2 class="mt__title">
          Amalfi Coast's Best-Kept <em>Secret</em>
        </h2>
        <p class="mt__lead">
          A step by step journey through this unusual Amalfi Coast motorbike route
        </p>
      </div>
      <div class="mt__timeline">
        <div class="mt__line" aria-hidden="true"></div>
        {stops.map((stop, i) => (
          <article class="mt__stop" style={`--delay: ${i * 0.06}s`}>
            <div class="mt__marker">
              <span class="mt__letter">{stop.letter}</span>
            </div>
            <div class="mt__card">
              <div class="mt__card-head">
                <h3 class="mt__card-title">{stop.title}</h3>
                <span class="mt__card-sub">{stop.subtitle}</span>
              </div>
              <p class="mt__card-text">{stop.text}</p>
              {stop.hint && (
                <p class="mt__card-hint">
                  <i class="bi bi-chat-dots"></i>
                  {stop.hint}
                </p>
              )}
            </div>
          </article>
        ))}
        <div class="mt__end">
          <i class="bi bi-flag-fill"></i>
        </div>
      </div>
    </div>
  </section>

  <!-- ====== ROUTE 2 — HERO ====== -->
  <section class="mh2 section hero--dark" id="route2">
    <div class="mh2__bg" aria-hidden="true">
      <svg class="mh__road" viewBox="0 0 1200 800" preserveAspectRatio="xMidYMid slice">
        <defs>
          <linearGradient id="roadGrad2" x1="0" y1="0" x2="1" y2="0">
            <stop offset="0%" stop-color="rgba(1,98,255,0.5)" />
            <stop offset="100%" stop-color="rgba(255,89,0,0.2)" />
          </linearGradient>
        </defs>
        <path
          class="mh__road-base"
          d="M-20 100 C100 200, 180 600, 380 500 S520 180, 700 280 S880 600, 1000 450 S1150 200, 1260 350"
        />
        <path
          class="mh2__road-center"
          d="M-20 100 C100 200, 180 600, 380 500 S520 180, 700 280 S880 600, 1000 450 S1150 200, 1260 350"
        />
        <path
          class="mh2__road-glow"
          d="M-20 100 C100 200, 180 600, 380 500 S520 180, 700 280 S880 600, 1000 450 S1150 200, 1260 350"
        />
      </svg>
      <div class="mh__grain"></div>
    </div>
    <div class="container mh__content">
      <div class="mh__top mh2__fade" style="--fade-delay: 0.1s">
        <span class="mh__eyebrow">
          <span class="mh__eyebrow-dot mh2__dot"></span>
          Amalfi — Agerola Route
        </span>
      </div>
      <h1 class="mh__title">
        <span class="mh2__title-line">The windiest</span>
        <span class="mh2__title-line"><em>road</em> from Amalfi</span>
        <span class="mh2__title-line">to Agerola</span>
      </h1>
      <p class="mh__lead mh2__fade" style="--fade-delay: 0.2s">
        Get ready to uncover the raw, untamed beauty of the Amalfi Coast as you navigate the
        twists and turns of Tramonti Valley. This off-the-beaten-path route is a dream come true
        for those seeking an authentic Italian experience away from the crowds.
      </p>
      <div class="mh__actions mh2__fade" style="--fade-delay: 0.3s">
        <a class="button" href="#route2-map">
          <i class="bi bi-arrow-down-circle"></i>
          Explore the route
        </a>
        <a class="mh__ghost-btn" href={mapShare2} target="_blank" rel="noreferrer">
          <i class="bi bi-map"></i>
          Open in Google Maps
        </a>
      </div>
      <div class="mh__stats mh2__fade" style="--fade-delay: 0.4s" data-stats>
        <div class="mh__stat">
          <div class="mh__stat-num">
            <span class="mh__counter" data-target="25.7" data-decimals="1">0</span>
          </div>
          <div class="mh__stat-unit">km</div>
          <div class="mh__stat-label">Length of the road</div>
        </div>
        <div class="mh__stat-divider"></div>
        <div class="mh__stat">
          <div class="mh__stat-num">
            <span class="mh__counter" data-target="661" data-decimals="0">0</span>
          </div>
          <div class="mh__stat-unit">m</div>
          <div class="mh__stat-label">Maximum elevation</div>
        </div>
        <div class="mh__stat-divider"></div>
        <div class="mh__stat">
          <div class="mh__stat-num">
            <span class="mh__counter" data-target="5" data-decimals="0">0</span>
          </div>
          <div class="mh__stat-unit">stops</div>
          <div class="mh__stat-label">Points of interest</div>
        </div>
      </div>
    </div>
  </section>

  <!-- ROUTE 2 — MAP + ROUTE INFO -->
  <section class="mr section" id="route2-map">
    <div class="container">
      <div class="mr__header">
        <span class="mr__eyebrow">Route overview</span>
        <h2 class="mr__title">
          The winding road to <em>Agerola</em>
        </h2>
        <p class="mr__lead">
          This is your chance to see the Amalfi Coast through a new lens — one that's unfiltered,
          unapologetic, and absolutely unforgettable. We have prepared this map in different formats
          that you can use on your navigators or online.
        </p>
      </div>

      <div class="mr__card">
        <div class="mr__card-inner">
          <div class="mr__map-wrap">
            <iframe
              title="Amalfi to Agerola moto map"
              src={mapEmbed2}
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade"
            ></iframe>
          </div>
          <div class="mr__card-bar">
            <div class="mr__downloads">
              <a
                class="mr__dl-btn mr__dl-btn--primary"
                href="https://amalfi.day/files/Maps/moto-road-to-agerola.kmz"
                target="_blank"
                rel="noreferrer"
              >
                <i class="bi bi-download"></i>
                KMZ
              </a>
              <a
                class="mr__dl-btn"
                href="https://amalfi.day/files/Maps/moto-road-to-agerola.gpx"
                target="_blank"
                rel="noreferrer"
              >
                <i class="bi bi-download"></i>
                GPX
              </a>
              <a
                class="mr__dl-btn mr__dl-btn--maps"
                href={mapShare2}
                target="_blank"
                rel="noreferrer"
              >
                <i class="bi bi-map"></i>
                Google Maps
              </a>
            </div>
            <div class="mr__route-tag">
              <i class="bi bi-signpost-2"></i>
              Amalfi → Conca dei Marini → Agerola
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ROUTE 2 — TIMELINE STOPS -->
  <section class="mt section">
    <div class="container">
      <div class="mt__header">
        <span class="mr__eyebrow">Route letters</span>
        <h2 class="mt__title">
          From Sea Level to the <em>Path of the Gods</em>
        </h2>
        <p class="mt__lead">
          A step by step journey through this legendary coastal road to Agerola
        </p>
      </div>
      <div class="mt__timeline">
        <div class="mt__line" aria-hidden="true"></div>
        {stops2.map((stop, i) => (
          <article class="mt__stop" style={`--delay: ${i * 0.06}s`}>
            <div class="mt__marker">
              <span class="mt__letter">{stop.letter}</span>
            </div>
            <div class="mt__card">
              <div class="mt__card-head">
                <h3 class="mt__card-title">{stop.title}</h3>
                <span class="mt__card-sub">{stop.subtitle}</span>
              </div>
              <p class="mt__card-text">{stop.text}</p>
              {stop.hint && (
                <div class="mt__card-hint">
                  <span class="mt__card-hint-text">
                    <i class="bi bi-chat-dots"></i>
                    {stop.hint}
                  </span>
                  {stop.hintLink && (
                    <a class="mt__card-link" href={stop.hintLink.url} target="_blank" rel="noreferrer">
                      {stop.hintLink.label}
                      <i class="bi bi-arrow-up-right"></i>
                    </a>
                  )}
                </div>
              )}
            </div>
          </article>
        ))}
        <div class="mt__end">
          <i class="bi bi-flag-fill"></i>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>

<style>
  /* ===== HERO ===== */
  .mh {
    position: relative;
    min-height: 100svh;
    display: flex;
    align-items: flex-end;
    padding: calc(var(--header-space) + 2rem) 0 clamp(3rem, 6vw, 5rem);
    background: #0a0c10;
    color: #f5f5f5;
    overflow: hidden;
  }

  .mh__bg {
    position: absolute;
    inset: 0;
    z-index: 0;
  }

  .mh__bg::before {
    content: '';
    position: absolute;
    inset: 0;
    background:
      radial-gradient(ellipse 80% 60% at 70% 30%, rgba(255, 89, 0, 0.18), transparent),
      radial-gradient(ellipse 60% 50% at 20% 70%, rgba(1, 98, 255, 0.1), transparent),
      radial-gradient(ellipse 40% 40% at 90% 80%, rgba(255, 195, 0, 0.08), transparent);
    z-index: 1;
  }

  .mh__bg::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 50%;
    background: linear-gradient(to top, #0a0c10, transparent);
    z-index: 2;
  }

  .mh__road {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    opacity: 0.6;
  }

  .mh__road-base {
    fill: none;
    stroke: rgba(255, 255, 255, 0.06);
    stroke-width: 48;
    stroke-linecap: round;
    stroke-linejoin: round;
  }

  .mh__road-center {
    fill: none;
    stroke: url(#roadGrad);
    stroke-width: 3;
    stroke-dasharray: 12 20;
    stroke-linecap: round;
    animation: roadDash 6s linear infinite;
  }

  .mh__road-glow {
    fill: none;
    stroke: rgba(255, 89, 0, 0.15);
    stroke-width: 80;
    stroke-linecap: round;
    filter: blur(40px);
  }

  .mh__grain {
    position: absolute;
    inset: 0;
    z-index: 3;
    opacity: 0.035;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='1'/%3E%3C/svg%3E");
    background-repeat: repeat;
    background-size: 256px 256px;
    pointer-events: none;
  }

  .mh__content {
    position: relative;
    z-index: 4;
  }

  .mh__top {
    margin-bottom: 1.5rem;
    opacity: 0;
    animation: fadeUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) 0.1s forwards;
  }

  .mh__eyebrow {
    display: inline-flex;
    align-items: center;
    gap: 0.6rem;
    font-family: var(--font-mono);
    text-transform: uppercase;
    letter-spacing: 0.22em;
    font-size: 0.72rem;
    color: rgba(255, 255, 255, 0.55);
  }

  .mh__eyebrow-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: var(--color-accent);
    animation: pulse 2s ease-in-out infinite;
  }

  .mh__title {
    font-size: clamp(2.8rem, 7.5vw, 6.4rem);
    line-height: 0.95;
    margin: 0 0 1.5rem;
    letter-spacing: -0.03em;
    font-weight: 700;
  }

  .mh__title-line {
    display: block;
    opacity: 0;
    animation: fadeUp 0.9s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }

  .mh__title-line:nth-child(1) { animation-delay: 0.15s; }
  .mh__title-line:nth-child(2) { animation-delay: 0.25s; }
  .mh__title-line:nth-child(3) { animation-delay: 0.35s; }

  .mh__title em {
    font-style: italic;
    color: var(--color-accent);
    text-shadow: 0 0 80px rgba(255, 89, 0, 0.4);
  }

  .mh__lead {
    max-width: 38rem;
    font-size: clamp(1rem, 1.8vw, 1.15rem);
    line-height: 1.7;
    color: rgba(255, 255, 255, 0.6);
    margin-bottom: 2rem;
    opacity: 0;
    animation: fadeUp 0.9s cubic-bezier(0.16, 1, 0.3, 1) 0.45s forwards;
  }

  .mh__actions {
    display: flex;
    align-items: center;
    gap: 1.2rem;
    flex-wrap: wrap;
    margin-bottom: clamp(3rem, 6vw, 5rem);
    opacity: 0;
    animation: fadeUp 0.9s cubic-bezier(0.16, 1, 0.3, 1) 0.55s forwards;
  }

  .mh .button {
    box-shadow: 0 8px 32px rgba(255, 89, 0, 0.3);
  }

  .mh__ghost-btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.9rem 1.4rem;
    border-radius: 999px;
    border: 1px solid rgba(255, 255, 255, 0.15);
    background: rgba(255, 255, 255, 0.06);
    color: rgba(255, 255, 255, 0.85);
    font-weight: 600;
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    transition: all 0.25s ease;
  }

  .mh__ghost-btn:hover {
    background: rgba(255, 255, 255, 0.12);
    border-color: rgba(255, 255, 255, 0.3);
    color: #fff;
    text-decoration: none;
    transform: translateY(-2px);
  }

  /* Stats row */
  .mh__stats {
    display: grid;
    grid-template-columns: 1fr auto 1fr auto 1fr auto 1fr;
    align-items: center;
    gap: 0 clamp(1rem, 2.5vw, 2rem);
    padding: clamp(1.5rem, 3vw, 2rem) clamp(1.5rem, 3vw, 2.5rem);
    border-radius: 20px;
    background: rgba(255, 255, 255, 0.04);
    border: 1px solid rgba(255, 255, 255, 0.07);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    opacity: 0;
    animation: fadeUp 0.9s cubic-bezier(0.16, 1, 0.3, 1) 0.7s forwards;
  }

  .mh__stat {
    min-width: 0;
  }

  .mh__stat-num {
    font-family: var(--font-display);
    font-size: clamp(2rem, 4.5vw, 3.4rem);
    color: #fff;
    line-height: 1;
    margin-bottom: 0.15rem;
    font-variant-numeric: tabular-nums;
    min-width: 3ch;
  }

  .mh__stat-suffix {
    font-size: 0.65em;
    color: var(--color-accent);
  }

  .mh__stat-unit {
    font-family: var(--font-mono);
    text-transform: uppercase;
    letter-spacing: 0.25em;
    font-size: 0.7rem;
    color: var(--color-accent);
    margin-bottom: 0.4rem;
  }

  .mh__stat-label {
    font-size: 0.82rem;
    color: rgba(255, 255, 255, 0.4);
  }

  .mh__stat-divider {
    width: 1px;
    height: 48px;
    background: rgba(255, 255, 255, 0.08);
    align-self: center;
  }

  /* Scroll hint */
  .mh__scroll-hint {
    position: absolute;
    bottom: 1.5rem;
    left: 50%;
    transform: translateX(-50%);
    z-index: 5;
    width: 24px;
    height: 40px;
    border-radius: 12px;
    border: 2px solid rgba(255, 255, 255, 0.2);
  }

  .mh__scroll-hint span {
    display: block;
    width: 4px;
    height: 8px;
    border-radius: 2px;
    background: rgba(255, 255, 255, 0.5);
    margin: 6px auto 0;
    animation: scrollBounce 2s ease-in-out infinite;
  }

  /* ===== MAP SECTION ===== */
  .mr {
    padding-top: 2rem;
  }

  .mr__header {
    max-width: 640px;
    margin-bottom: clamp(2rem, 4vw, 3rem);
  }

  .mr__eyebrow {
    display: inline-block;
    font-family: var(--font-mono);
    text-transform: uppercase;
    letter-spacing: 0.22em;
    font-size: 0.7rem;
    color: var(--color-accent);
    margin-bottom: 0.8rem;
  }

  .mr__title {
    font-size: clamp(2rem, 4vw, 3.2rem);
    line-height: 1.1;
    margin-bottom: 1rem;
  }

  .mr__title em {
    font-style: italic;
    color: var(--color-accent);
  }

  .mr__lead {
    font-size: 1.05rem;
    color: var(--color-text-muted);
  }

  .mr__card {
    border-radius: calc(var(--radius-lg) + 4px);
    background: var(--color-card);
    border: 1px solid var(--color-border);
    box-shadow: var(--shadow-lift);
    overflow: hidden;
  }

  .mr__card-inner {
    display: flex;
    flex-direction: column;
  }

  .mr__map-wrap {
    position: relative;
    background: var(--color-surface);
  }

  .mr__map-wrap::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 48px;
    background: linear-gradient(to bottom, var(--color-card), transparent);
    z-index: 1;
    pointer-events: none;
  }

  .mr__map-wrap iframe {
    display: block;
    width: 100%;
    height: clamp(380px, 50vw, 520px);
    border: 0;
  }

  .mr__card-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 1rem;
    padding: 1rem 1.5rem;
    border-top: 1px solid var(--color-border);
    flex-wrap: wrap;
  }

  .mr__downloads {
    display: flex;
    gap: 0.6rem;
    flex-wrap: wrap;
  }

  .mr__dl-btn {
    display: inline-flex;
    align-items: center;
    gap: 0.4rem;
    padding: 0.6rem 1.1rem;
    border-radius: 999px;
    font-size: 0.85rem;
    font-weight: 600;
    border: 1px solid var(--color-border);
    background: var(--color-surface);
    color: var(--color-text);
    transition: all 0.2s ease;
  }

  .mr__dl-btn:hover {
    transform: translateY(-1px);
    box-shadow: var(--shadow-soft);
    text-decoration: none;
  }

  .mr__dl-btn--primary {
    background: var(--color-accent);
    border-color: transparent;
    color: #fff;
  }

  .mr__dl-btn--primary:hover {
    background: #e94f00;
    color: #fff;
  }

  .mr__dl-btn--maps {
    background: var(--gradient-azure);
    border-color: transparent;
    color: #fff;
  }

  .mr__dl-btn--maps:hover {
    color: #fff;
  }

  .mr__route-tag {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    font-family: var(--font-mono);
    font-size: 0.75rem;
    letter-spacing: 0.06em;
    color: var(--color-text-muted);
  }

  /* ===== TIMELINE ===== */
  .mt {
    padding-bottom: 6rem;
  }

  .mt__header {
    max-width: 640px;
    margin-bottom: clamp(2.5rem, 5vw, 4rem);
  }

  .mt__title {
    font-size: clamp(2rem, 4vw, 3.2rem);
    line-height: 1.1;
    margin-bottom: 0.8rem;
  }

  .mt__title em {
    font-style: italic;
    color: var(--color-accent);
  }

  .mt__lead {
    font-size: 1.05rem;
    color: var(--color-text-muted);
  }

  .mt__timeline {
    position: relative;
    display: flex;
    flex-direction: column;
    gap: 0;
    padding-left: 52px;
  }

  .mt__line {
    position: absolute;
    left: 20px;
    top: 0;
    bottom: 0;
    width: 2px;
    background: linear-gradient(
      to bottom,
      var(--color-accent),
      rgba(255, 89, 0, 0.3) 70%,
      rgba(255, 89, 0, 0.08)
    );
  }

  .mt__stop {
    position: relative;
    padding-bottom: 2.5rem;
  }

  .mt__stop:last-of-type {
    padding-bottom: 1.5rem;
  }

  .mt__marker {
    position: absolute;
    left: -52px;
    top: 0;
    z-index: 1;
    width: 42px;
    height: 42px;
    border-radius: 50%;
    background: var(--color-accent);
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 0 0 4px var(--color-bg), 0 4px 16px rgba(255, 89, 0, 0.25);
    transition: transform 0.25s ease, box-shadow 0.25s ease;
  }

  .mt__stop:hover .mt__marker {
    transform: scale(1.1);
    box-shadow: 0 0 0 4px var(--color-bg), 0 6px 24px rgba(255, 89, 0, 0.35);
  }

  .mt__letter {
    font-weight: 700;
    font-size: 1rem;
    color: #fff;
    line-height: 1;
  }

  .mt__card {
    background: var(--color-card);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    padding: 1.5rem;
    box-shadow: var(--shadow-soft);
    transition: transform 0.25s ease, box-shadow 0.25s ease;
  }

  .mt__stop:hover .mt__card {
    transform: translateY(-3px);
    box-shadow: var(--shadow-lift);
  }

  .mt__card-head {
    display: flex;
    align-items: baseline;
    gap: 0.8rem;
    margin-bottom: 0.6rem;
    flex-wrap: wrap;
  }

  .mt__card-title {
    font-size: 1.2rem;
    margin: 0;
  }

  .mt__card-sub {
    font-family: var(--font-mono);
    font-size: 0.72rem;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    color: var(--color-accent);
  }

  .mt__card-text {
    margin: 0;
    line-height: 1.7;
  }

  .mt__card-hint {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 0.8rem;
    margin: 1rem 0 0;
    padding: 0.6rem 0.6rem 0.6rem 1rem;
    border-radius: 12px;
    background: rgba(255, 89, 0, 0.08);
    color: var(--color-accent);
    font-weight: 600;
    font-size: 0.9rem;
    flex-wrap: wrap;
  }

  .mt__card-hint-text {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    flex: 1;
    min-width: 0;
  }

  .mt__card-link {
    display: inline-flex;
    align-items: center;
    gap: 0.35rem;
    padding: 0.45rem 0.9rem;
    border-radius: 999px;
    font-size: 0.8rem;
    font-weight: 600;
    white-space: nowrap;
    background: var(--color-accent);
    color: #fff;
    transition: all 0.2s ease;
  }

  .mt__card-link:hover {
    background: #e94f00;
    color: #fff;
    text-decoration: none;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(255, 89, 0, 0.3);
  }

  .mt__end {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 42px;
    height: 42px;
    margin-left: -52px;
    border-radius: 50%;
    background: var(--color-surface);
    border: 2px solid var(--color-border);
    color: var(--color-accent);
    font-size: 1rem;
  }

  /* ===== ROUTE 2 HERO ===== */
  .mh2 {
    position: relative;
    min-height: 100svh;
    display: flex;
    align-items: flex-end;
    padding: clamp(3rem, 6vw, 5rem) 0;
    background: #0c0a10;
    color: #f5f5f5;
    overflow: hidden;
  }

  .mh2__bg {
    position: absolute;
    inset: 0;
    z-index: 0;
  }

  .mh2__bg::before {
    content: '';
    position: absolute;
    inset: 0;
    background:
      radial-gradient(ellipse 80% 60% at 30% 40%, rgba(1, 98, 255, 0.16), transparent),
      radial-gradient(ellipse 60% 50% at 80% 60%, rgba(255, 89, 0, 0.12), transparent),
      radial-gradient(ellipse 40% 40% at 10% 80%, rgba(120, 60, 200, 0.08), transparent);
    z-index: 1;
  }

  .mh2__bg::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 50%;
    background: linear-gradient(to top, #0c0a10, transparent);
    z-index: 2;
  }

  .mh2__road-center {
    fill: none;
    stroke: url(#roadGrad2);
    stroke-width: 3;
    stroke-dasharray: 16 24;
    stroke-linecap: round;
    animation: roadDash 8s linear infinite;
  }

  .mh2__road-glow {
    fill: none;
    stroke: rgba(1, 98, 255, 0.12);
    stroke-width: 80;
    stroke-linecap: round;
    filter: blur(40px);
  }

  .mh2__dot {
    background: #4a90ff;
    animation: pulse2 2s ease-in-out infinite;
  }

  .mh2__title-line {
    display: block;
    opacity: 0;
    transform: translateY(22px);
    transition: opacity 0.9s cubic-bezier(0.16, 1, 0.3, 1),
                transform 0.9s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .mh2__title-line:nth-child(1) { transition-delay: 0.15s; }
  .mh2__title-line:nth-child(2) { transition-delay: 0.25s; }
  .mh2__title-line:nth-child(3) { transition-delay: 0.35s; }

  .mh2__title-line.is-visible {
    opacity: 1;
    transform: translateY(0);
  }

  .mh2__fade {
    opacity: 0;
    transform: translateY(22px);
    transition: opacity 0.9s cubic-bezier(0.16, 1, 0.3, 1),
                transform 0.9s cubic-bezier(0.16, 1, 0.3, 1);
    transition-delay: var(--fade-delay, 0s);
  }

  .mh2__fade.is-visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* Route 2 stats: 3-column layout */
  .mh2 .mh__stats {
    grid-template-columns: 1fr auto 1fr auto 1fr;
  }

  @keyframes pulse2 {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.5; transform: scale(0.7); }
  }

  @media (max-width: 768px) {
    .mh2 .mh__stats {
      grid-template-columns: 1fr auto 1fr;
    }
  }

  @media (max-width: 480px) {
    .mh2 .mh__stats {
      grid-template-columns: 1fr;
    }
  }

  :global([data-theme='night']) .mh2 {
    background: #080610;
  }

  :global([data-theme='night']) .mh2__bg::before {
    background:
      radial-gradient(ellipse 80% 60% at 30% 40%, rgba(1, 98, 255, 0.1), transparent),
      radial-gradient(ellipse 60% 50% at 80% 60%, rgba(255, 89, 0, 0.08), transparent),
      radial-gradient(ellipse 40% 40% at 10% 80%, rgba(120, 60, 200, 0.05), transparent);
  }

  @media (prefers-reduced-motion: reduce) {
    .mh2__title-line,
    .mh2__fade {
      opacity: 1;
      transform: none;
      transition: none;
    }

    .mh2__road-center {
      animation: none;
    }

    .mh2__dot {
      animation: none;
    }
  }

  /* ===== SCROLL-REVEAL ===== */
  .mt__stop,
  .mr__card {
    opacity: 0;
    transform: translateY(24px);
    transition: opacity 0.6s cubic-bezier(0.16, 1, 0.3, 1),
                transform 0.6s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .mt__stop.is-visible,
  .mr__card.is-visible {
    opacity: 1;
    transform: translateY(0);
  }

  .mt__stop.is-visible {
    transition-delay: var(--delay, 0s);
  }

  /* ===== KEYFRAMES ===== */
  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(22px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes roadDash {
    to { stroke-dashoffset: -192; }
  }

  @keyframes pulse {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.5; transform: scale(0.7); }
  }

  @keyframes scrollBounce {
    0%, 100% { transform: translateY(0); opacity: 0.5; }
    50% { transform: translateY(10px); opacity: 1; }
  }

  /* Counter animation class */
  .mh__counter {
    display: inline-block;
    font-variant-numeric: tabular-nums;
  }

  .mh__counter.is-counting {
    transition: none;
  }

  /* ===== RESPONSIVE ===== */
  @media (max-width: 768px) {
    .mh {
      align-items: flex-end;
      padding-bottom: 5rem;
    }

    .mh__stats {
      grid-template-columns: 1fr auto 1fr;
      gap: 1.2rem clamp(1rem, 3vw, 1.5rem);
    }

    .mh__stat {
      display: flex;
      align-items: baseline;
      gap: 0.6rem;
      flex-wrap: wrap;
    }

    .mh__stat-num {
      font-size: 2rem;
      min-width: 2ch;
    }

    .mh__stat-unit {
      margin-bottom: 0;
    }

    .mh__stat-label {
      width: 100%;
    }

    /* Hide vertical dividers, show none in 2-col grid */
    .mh__stat-divider {
      display: none;
    }

    .mr__card-bar {
      flex-direction: column;
      align-items: flex-start;
    }

    .mt__timeline {
      padding-left: 48px;
    }

    .mt__marker {
      width: 36px;
      height: 36px;
      left: -48px;
    }

    .mt__line {
      left: 17px;
    }

    .mt__end {
      width: 36px;
      height: 36px;
      margin-left: -48px;
    }

    .mt__card-head {
      flex-direction: column;
      gap: 0.2rem;
    }
  }

  @media (max-width: 480px) {
    .mh__title {
      font-size: clamp(2.2rem, 10vw, 3.2rem);
    }

    .mh__actions {
      flex-direction: column;
      align-items: stretch;
    }

    .mh__ghost-btn {
      justify-content: center;
    }

    .mh__stats {
      grid-template-columns: 1fr;
      gap: 1rem;
    }
  }

  /* ===== NIGHT THEME ===== */
  :global([data-theme='night']) .mh {
    background: #060810;
  }

  :global([data-theme='night']) .mh__bg::before {
    background:
      radial-gradient(ellipse 80% 60% at 70% 30%, rgba(255, 89, 0, 0.12), transparent),
      radial-gradient(ellipse 60% 50% at 20% 70%, rgba(1, 98, 255, 0.08), transparent),
      radial-gradient(ellipse 40% 40% at 90% 80%, rgba(255, 195, 0, 0.05), transparent);
  }

  :global([data-theme='night']) .mr__map-wrap iframe {
    filter: brightness(0.85) contrast(1.05);
  }

  :global([data-theme='night']) .mt__marker {
    box-shadow: 0 0 0 4px var(--color-bg), 0 4px 20px rgba(255, 89, 0, 0.3);
  }

  :global([data-theme='night']) .mt__card-hint {
    background: rgba(255, 89, 0, 0.12);
  }

  /* ===== REDUCED MOTION ===== */
  @media (prefers-reduced-motion: reduce) {
    .mh__top,
    .mh__title-line,
    .mh__lead,
    .mh__actions,
    .mh__stats {
      animation: none;
      opacity: 1;
    }

    .mh__road-center {
      animation: none;
    }

    .mh__eyebrow-dot {
      animation: none;
    }

    .mh__scroll-hint span {
      animation: none;
    }

    .mt__stop,
    .mr__card {
      opacity: 1;
      transform: none;
    }
  }
</style>

<script>
  // Counter animation — count up numbers when visible
  function animateCounters() {
    const counters = document.querySelectorAll<HTMLElement>('.mh__counter');
    if (!counters.length) return;

    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if (!entry.isIntersecting) return;
        const el = entry.target as HTMLElement;
        if (el.dataset.counted) return;
        el.dataset.counted = 'true';
        observer.unobserve(el);

        const target = parseFloat(el.dataset.target || '0');
        const decimals = parseInt(el.dataset.decimals || '0', 10);

        if (prefersReduced) {
          el.textContent = target.toFixed(decimals);
          return;
        }

        const duration = 1800;
        const start = performance.now();
        el.classList.add('is-counting');

        function tick(now: number) {
          const elapsed = now - start;
          const progress = Math.min(elapsed / duration, 1);
          // Ease-out cubic
          const eased = 1 - Math.pow(1 - progress, 3);
          const current = eased * target;
          el.textContent = current.toFixed(decimals);

          if (progress < 1) {
            requestAnimationFrame(tick);
          } else {
            el.textContent = target.toFixed(decimals);
            el.classList.remove('is-counting');
          }
        }

        requestAnimationFrame(tick);
      });
    }, { threshold: 0.3 });

    counters.forEach((c) => observer.observe(c));
  }

  // Scroll reveal for cards/timeline
  function scrollReveal() {
    const items = document.querySelectorAll('.mt__stop, .mr__card');
    if (!items.length) return;

    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    if (prefersReduced) {
      items.forEach((el) => el.classList.add('is-visible'));
      return;
    }

    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add('is-visible');
            observer.unobserve(entry.target);
          }
        });
      },
      { threshold: 0.15, rootMargin: '0px 0px -40px 0px' }
    );

    items.forEach((el) => observer.observe(el));
  }

  // Scroll-reveal for route 2 hero elements (title lines + fade elements)
  function scrollRevealHero2() {
    const items = document.querySelectorAll('.mh2__title-line, .mh2__fade');
    if (!items.length) return;

    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    if (prefersReduced) {
      items.forEach((el) => el.classList.add('is-visible'));
      return;
    }

    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add('is-visible');
            observer.unobserve(entry.target);
          }
        });
      },
      { threshold: 0.15, rootMargin: '0px 0px -40px 0px' }
    );

    items.forEach((el) => observer.observe(el));
  }

  document.addEventListener('DOMContentLoaded', () => {
    animateCounters();
    scrollReveal();
    scrollRevealHero2();
  });
</script>
