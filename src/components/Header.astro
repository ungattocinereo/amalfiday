---
import { navigation, socialLinks, site } from '../data/site'

const headerSocials = socialLinks.filter((item) =>
  ['Instagram', 'Facebook', 'Twitter'].includes(item.label)
)
---
<header class="header">
  <div class="container header__inner">
    <nav class="nav">
      {navigation.map((item) => (
        <a class="nav__link" href={item.href}>
          {item.label}
        </a>
      ))}
    </nav>

    <a class="logo" href="/" aria-label={`${site.name} home`}>
      <img src="/brand/logo-dark.svg" alt="Amalfi.Day" />
    </a>

    <div class="social">
      {headerSocials.map((item) => (
        <a class="social__link" href={item.href} target="_blank" rel="noreferrer">
          <span class="sr-only">{item.label}</span>
          {item.label === 'Instagram' && (
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <rect x="4" y="4" width="16" height="16" rx="4" />
              <circle cx="12" cy="12" r="3.5" />
              <circle cx="17" cy="7" r="1" />
            </svg>
          )}
          {item.label === 'Facebook' && (
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path d="M14 8h2.2V5.3c-.4-.1-1.3-.2-2.4-.2-2.4 0-4 1.4-4 4v2H7v3h2.8v6.9h3.1V14h2.6l.4-3h-3V9.6c0-.9.3-1.6 1.4-1.6Z" />
            </svg>
          )}
          {item.label === 'Twitter' && (
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path d="M18.9 7.4c.8 4.5-3.2 9.4-8.7 9.4-1.7 0-3.3-.5-4.6-1.3 1.7.2 3.3-.3 4.6-1.3-1.4 0-2.6-.9-3-2.2.5.1 1 .1 1.4-.1-1.5-.3-2.4-1.8-2-3.2.4.2.9.4 1.4.4-1.3-.8-1.6-2.6-.6-3.7 1.6 1.9 4 3.2 6.7 3.3-.4-1.4.7-2.8 2.2-2.8.7 0 1.3.3 1.8.7.6-.1 1.1-.3 1.6-.6-.2.6-.6 1-1.1 1.3.5-.1 1-.2 1.4-.4-.3.5-.7.9-1.1 1.3Z" />
            </svg>
          )}
        </a>
      ))}
    </div>
  </div>
</header>

<style>
  .header {
    position: sticky;
    top: 0;
    z-index: 20;
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid rgba(240, 242, 246, 0.8);
  }

  .header__inner {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    align-items: center;
    gap: 2rem;
    padding: 1.2rem 0;
  }

  .logo {
    justify-self: center;
  }

  .logo img {
    height: 36px;
  }

  .nav {
    display: flex;
    gap: 1.4rem;
    justify-content: flex-start;
  }

  .nav__link {
    font-weight: 500;
    color: var(--color-text);
    position: relative;
  }

  .nav__link::after {
    content: '';
    position: absolute;
    left: 0;
    bottom: -6px;
    width: 0;
    height: 2px;
    background: var(--gradient-sunset);
    transition: width 0.2s ease;
  }

  .nav__link:hover::after {
    width: 100%;
  }

  .social {
    display: flex;
    gap: 0.8rem;
    flex-wrap: wrap;
    justify-content: flex-end;
  }

  .social__link {
    width: 34px;
    height: 34px;
    border-radius: 50%;
    border: 1px solid rgba(26, 26, 26, 0.15);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    color: var(--color-text);
    transition: border-color 0.2s ease, color 0.2s ease, transform 0.2s ease;
  }

  .social__link svg {
    width: 16px;
    height: 16px;
    fill: currentColor;
  }

  .social__link:hover {
    border-color: var(--color-aux);
    color: var(--color-aux);
    transform: translateY(-1px);
  }

  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  @media (max-width: 900px) {
    .header__inner {
      grid-template-columns: 1fr;
      gap: 1rem;
    }

    .nav {
      flex-wrap: wrap;
      justify-content: center;
    }

    .logo {
      order: -1;
    }

    .social {
      justify-content: center;
    }
  }
</style>
